local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local VirtualInputManager = game:GetService("VirtualInputManager")
local gui, mainFrame, originalSize, isExpanded
local energy = workspace[player.Name].State.Energy.Value
local maxEnergy = workspace[player.Name].State.MaxEnergy.Value

-- Function to toggle GUI visibility
local function toggleGUIVisibility(visible)
    if gui then
        gui.Enabled = visible
    end
end

-- Function to toggle GUI size
local function toggleGUISize(expand)
    if mainFrame and originalSize then
        if expand then
            mainFrame.Size = originalSize
        else
            mainFrame.Size = UDim2.new(0, 150, 0, 100) -- Modify the size as needed
        end
        isExpanded = expand
    end
end

    local bb = game:GetService('VirtualUser')

    game:GetService('Players').LocalPlayer.Idled:connect(function()
        bb:CaptureController()
        bb:ClickButton2(Vector2.new())
        ab.Text = "Roblox intentó expulsarte, pero lo evité"
        wait(2)
        ab.Text = "Estado: Activo"
    end)

    local HashiraUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/XeQpeQ/Hashira/main/UI2.lua"))()
    local win = HashiraUI:Create({
        Name = "Hashira Hub",
        StartupSound = {
            Toggle = false,
            SoundID = "rbxassetid://6958727243",
            TimePosition = 1
        }
    })
    local maintab = win:Tab('Main')
    local AutoFarm = win:Tab('AutoFarm')
    local uitab = win:Tab('UI')

    uitab:Button('Destroy GUI', function()
        win:Exit()
    end)

maintab:Toggle('Auto Farm Up', function(v)
getgenv().AutoFarm = v
end)

task.spawn(function()
	while task.wait() do
		pcall(function()
			if getgenv().AutoFarm then
local car = workspace:WaitForChild("CarCollection"):WaitForChild(player.Name):WaitForChild("Car")

repeat wait() until player and player.Character and player.Character:FindFirstChildOfClass("Humanoid")

if not car then
    warn("Coche no encontrado")
    return
end

local SPEED_UP = 150 
local SPEED_DOWN = 50 
local FLYING = false

local function FLY()
    FLYING = true
    local BG = Instance.new('BodyGyro')
    local BV = Instance.new('BodyVelocity')
    BG.P = 9e4
    BG.Parent = car.PrimaryPart 
    BV.Parent = car.PrimaryPart
    BG.maxTorque = Vector3.new(9e9, 9e9, 9e9)
    BV.maxForce = Vector3.new(9e9, 9e9, 9e9)

    BV.velocity = Vector3.new(0, SPEED_UP, 0) 
    task.wait(4) 

    -- Bajar un poco
    BV.velocity = Vector3.new(0, -SPEED_DOWN, 0)
    task.wait(1) 

    -- Elevar el coche nuevamente rápidamente
    BV.velocity = Vector3.new(0, SPEED_UP, 0) 
    task.wait(2) 

    -- Detener el vuelo
    FLYING = false
    BV.velocity = Vector3.new(0, 0, 0)
    BG:Destroy()
    BV:Destroy()
end

local function startFlying()
    while true do
        FLY() 
        task.wait(20) 
    end
end

startFlying()

		end)
	end
end)
