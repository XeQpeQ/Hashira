local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local VirtualInputManager = game:GetService("VirtualInputManager")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
  
local Part = Instance.new("Part",Workspace)
Part.Name = "TeleportS"
Part.CFrame = workspace["Shaggy 1%"]:GetModelCFrame()
Part.Anchored = true
Part.Transparency = 1
Part.CanCollide = false
  
local args = {
    [1] = "galactic saiyan"
}

ReplicatedStorage:WaitForChild("Transform"):FireServer(unpack(args))
wait(6)
VirtualInputManager:SendKeyEvent(true, "X", false, game)
wait(10)
VirtualInputManager:SendKeyEvent(false, "X", false, game)
player.Character.HumanoidRootPart.CFrame = CFrame.new(workspace.TeleportS.Position - workspace.TeleportS.CFrame.LookVector * 1, workspace.TeleportS.Position)
local Stepped
Stepped = RunService.RenderStepped:Connect(function()
    wait(0.5)
    player.Character.HumanoidRootPart.CFrame = CFrame.new(workspace["Shaggy 1%"].HumanoidRootPart.Position - workspace["Shaggy 1%"].HumanoidRootPart.CFrame.LookVector * 1, workspace["Shaggy 1%"].HumanoidRootPart.Position)                                     
    VirtualInputManager:SendMouseButtonEvent(0, 0, 0, true, game, 0)
    local args = {
        [1] = false,
        [2] = Workspace["Shaggy 1%"].HumanoidRootPart.Position
    }
    ReplicatedStorage.Events:FindFirstChild("Infinite Barrage Fists"):FireServer(unpack(args))
end)

player.CharacterAdded:connect(function()
    Stepped:Disconnect()
    wait(0.5)
    local args = {
        [1] = "galactic saiyan"
    }
    ReplicatedStorage:WaitForChild("Transform"):FireServer(unpack(args))
    wait(6)
    VirtualInputManager:SendKeyEvent(true, "X", false, game)
    wait(10)
    VirtualInputManager:SendKeyEvent(false, "X", false, game)
    player.Character.HumanoidRootPart.CFrame = CFrame.new(workspace.TeleportS.Position - workspace.TeleportS.CFrame.LookVector * 1, workspace.TeleportS.Position)
    Stepped = RunService.RenderStepped:Connect(function()
        wait(0.5)
        player.Character.HumanoidRootPart.CFrame = CFrame.new(workspace["Shaggy 1%"].HumanoidRootPart.Position - workspace["Shaggy 1%"].HumanoidRootPart.CFrame.LookVector * 1, workspace["Shaggy 1%"].HumanoidRootPart.Position)                                                                          
        VirtualInputManager:SendMouseButtonEvent(0, 0, 0, true, game, 0)
        local args = {
            [1] = false,
            [2] = Workspace["Shaggy 1%"].HumanoidRootPart.Position
        }
        ReplicatedStorage.Events:FindFirstChild("Infinite Barrage Fists"):FireServer(unpack(args))
    end)
end)
